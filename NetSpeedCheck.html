<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>NetSpeedCheck - 8 February 2027's Call</title>

    <!-- Icône de la page (doit exister au même niveau que ce fichier) -->
    <link rel="icon" type="image/png" href="827scall Logo (Carré).png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        /* =========================
           RESET & BASE
        ========================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            background-color: #000000;
            color: #fff;
            font-family: "Courier New", Courier, monospace;
            overflow: hidden;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        /* =========================
           LAYOUT GLOBAL
        ========================== */
        .app-root {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            padding: 16px;
        }

        .header {
            flex: 0 0 auto;
            margin-bottom: 8px;
        }

        .header-title {
            font-size: 1.6rem;
            color: #fff;
            text-shadow: 0 0 4px #fff;
        }

        .header-subtitle {
            font-size: 0.9rem;
            color: #00aa00;
            margin-top: 2px;
        }

        .status-bar {
            flex: 0 0 auto;
            margin-top: 6px;
            font-size: 0.85rem;
            color: #827;
        }

        .status-label {
            color: #00ff00;
        }

        .status-value {
            color: #00ffff;
        }

        .main {
            flex: 1 1 auto;
            display: flex;
            flex-direction: row;
            margin-top: 8px;
            gap: 12px;
            overflow: hidden;
        }

        .left-panel,
        .right-panel {
            border: 1px solid #00aa00;
            padding: 10px;
            background-color: #000000;
        }

        .left-panel {
            flex: 0 0 340px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .right-panel {
            flex: 1 1 auto;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* =========================
           PANNEAU GAUCHE : OPTIONS
        ========================== */
        .panel-title {
            font-size: 1.1rem;
            color: #fff;
            margin-bottom: 4px;
        }

        .panel-section {
            border-top: 1px dashed #1af;
            padding-top: 6px;
            margin-top: 6px;
        }

        .panel-section:first-of-type {
            border-top: none;
            padding-top: 0;
            margin-top: 0;
        }

        .option-label {
            font-size: 0.9rem;
            color: #00ff00;
            margin-bottom: 4px;
        }

        .btn-row {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .cmd-button {
            width: 100%;
            padding: 10px 8px;
            background-color: #000000;
            color: #1af;
            border: 1px solid #18a;
            font-family: "Courier New", Courier, monospace;
            font-size: 1rem;
            text-align: left;
            cursor: pointer;
            transition: background-color 0.1s ease, color 0.1s ease, border-color 0.1s ease;
        }

        .cmd-button:hover {
            background-color: #18a;
        }

        .cmd-button:active {
            background-color: #18a;
            color: #000000;
        }

        .cmd-button.disabled {
            opacity: 0.4;
            cursor: default;
        }

        .cmd-button-small {
            padding: 6px 6px;
            font-size: 0.9rem;
        }

        .inline-info {
            font-size: 0.8rem;
            color: #827;
            margin-top: 2px;
        }

        .navigator-state {
            margin-top: 4px;
            font-size: 0.85rem;
        }

        .navigator-state span {
            font-weight: bold;
        }

        .navigator-online {
            color: #00ff00;
        }

        .navigator-offline {
            color: #ff0000;
        }

        /* =========================
           PANNEAU DROIT : RÉSULTATS
        ========================== */
        .results-top {
            flex: 0 0 auto;
            border-bottom: 1px dashed #004400;
            padding-bottom: 6px;
            margin-bottom: 6px;
        }

        .results-title {
            font-size: 1.1rem;
            color: #00ff00;
            margin-bottom: 4px;
        }

        .results-summary {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .summary-line {
            font-size: 0.95rem;
        }

        .summary-label {
            color: #00ff00;
        }

        .summary-value {
            color: #00ffff;
        }

        .latency-grade {
            font-size: 1.4rem;
            font-weight: bold;
        }

        .grade-tres-bien {
            color: #00aaff;
        }

        .grade-bien {
            color: #00ff00;
        }

        .grade-moyen {
            color: #ffff00;
        }

        .grade-insuffisant {
            color: #ff9900;
        }

        .grade-pas-connexion {
            color: #ff0000;
        }

        .results-details {
            flex: 1 1 auto;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            margin-top: 6px;
        }

        .details-title {
            font-size: 0.95rem;
            color: #fff;
            margin-bottom: 4px;
        }

        .details-box {
            flex: 1 1 auto;
            border: 1px solid #004400;
            padding: 6px;
            overflow-y: auto;
            font-size: 0.85rem;
            line-height: 1.3;
            background-color: #000000;
        }

        .details-line {
            white-space: pre;
        }

        .details-line-muted {
            color: #006600;
        }

        .details-line-error {
            color: #ff3333;
        }

        .details-line-warning {
            color: #ffcc00;
        }

        .details-line-info {
            color: #00cccc;
        }

        .details-line-success {
            color: #00ff00;
        }

        /* =========================
           PIED DE PAGE / LÉGENDE
        ========================== */
        .footer {
            flex: 0 0 auto;
            border-top: 1px solid #fff;
            padding-top: 4px;
            margin-top: 6px;
            font-size: 0.8rem;
            color: #008800;
        }

        .legend-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 2px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .legend-color {
            width: 10px;
            height: 10px;
            border-radius: 2px;
        }

        .legend-tres-bien {
            background-color: #00aaff;
        }

        .legend-bien {
            background-color: #00ff00;
        }

        .legend-moyen {
            background-color: #ffff00;
        }

        .legend-insuffisant {
            background-color: #ff9900;
        }

        .legend-pas-connexion {
            background-color: #ff0000;
        }

        .legend-label {
            color: #fff;
        }

        /* =========================
           SCROLLBAR STYLE
        ========================== */
        .details-box::-webkit-scrollbar {
            width: 8px;
        }

        .details-box::-webkit-scrollbar-track {
            background: #000000;
        }

        .details-box::-webkit-scrollbar-thumb {
            background-color: #004400;
        }

        .details-box::-webkit-scrollbar-thumb:hover {
            background-color: #00aa00;
        }

        /* =========================
           RESPONSIVE
        ========================== */
        @media (max-width: 900px) {
            .main {
                flex-direction: column;
            }

            .left-panel {
                flex: 0 0 auto;
                width: 100%;
            }

            .right-panel {
                flex: 1 1 auto;
            }
        }

        @media (max-width: 600px) {
            .header-title {
                font-size: 1.3rem;
            }

            .cmd-button {
                font-size: 0.9rem;
            }

            .latency-grade {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
<div class="app-root">
    <!-- =========================
         EN-TÊTE
    ========================== -->
    <header class="header">
        <div class="header-title">
            8 February 2027's Call :: NetSpeedCheck
        </div>
        <div class="header-subtitle">
            Interface de diagnostic réseau — style invite de commande.
        </div>
        <div class="status-bar">
            <span class="status-label">[SYSTEM]</span>
            <span class="status-value" id="status-system">Initialisation de NetSpeedCheck...</span>
        </div>
    </header>

    <!-- =========================
         CONTENU PRINCIPAL
    ========================== -->
    <main class="main">
        <!-- =========================
             PANNEAU GAUCHE : OPTIONS
        ========================== -->
        <section class="left-panel">
            <div class="panel-title">Options automatiques</div>

            <!-- Requête rapide -->
            <div class="panel-section">
                <div class="option-label">Requête Rapide</div>
                <div class="inline-info">
                    1 requête — Timeout : 1000 ms
                </div>
                <div class="btn-row">
                    <button class="cmd-button" id="btn-quick">
                        &gt; lancer_requete_rapide()
                    </button>
                </div>
            </div>

            <!-- Requête multiple -->
            <div class="panel-section">
                <div class="option-label">Requête Multiple</div>
                <div class="inline-info">
                    7 requêtes — Timeout par requête : 1500 ms — Timeout global : 5000 ms
                </div>
                <div class="btn-row">
                    <button class="cmd-button" id="btn-multi">
                        &gt; lancer_requete_multiple()
                    </button>
                </div>
            </div>

            <!-- Requête complète -->
            <div class="panel-section">
                <div class="option-label">Requête Complète</div>
                <div class="inline-info">
                    255 requêtes — Timeout par requête : 3000 ms — Timeout global : 10 s
                </div>
                <div class="btn-row">
                    <button class="cmd-button" id="btn-full">
                        &gt; lancer_requete_complete()
                    </button>
                    <button class="cmd-button cmd-button-small" id="btn-stop" disabled>
                        &gt; arreter_les_requetes()
                    </button>
                </div>
            </div>

            <!-- Vérifier navigator.onLine -->
            <div class="panel-section">
                <div class="option-label">Vérifier état « navigator_online »</div>
                <div class="inline-info">
                    1 vérification — ONLINE / OFFLINE
                </div>
                <div class="btn-row">
                    <button class="cmd-button" id="btn-navigator">
                        &gt; verifier_navigator_online()
                    </button>
                </div>
                <div class="navigator-state" id="navigator-state">
                    État actuel : <span class="navigator-online">Inconnu</span>
                </div>
            </div>
        </section>

        <!-- =========================
             PANNEAU DROIT : RÉSULTATS
        ========================== -->
        <section class="right-panel">
            <div class="results-top">
                <div class="results-title">Résultats de la connexion</div>
                <div class="results-summary">
                    <div class="summary-line">
                        <span class="summary-label">Dernier mode :</span>
                        <span class="summary-value" id="summary-mode">Aucun test lancé</span>
                    </div>
                    <div class="summary-line">
                        <span class="summary-label">Latence moyenne :</span>
                        <span class="summary-value" id="summary-latency">-- ms</span>
                    </div>
                    <div class="summary-line">
                        <span class="summary-label">Paquets reçus :</span>
                        <span class="summary-value" id="summary-success">0</span>
                        <span class="summary-label"> / Paquets envoyés :</span>
                        <span class="summary-value" id="summary-total">0</span>
                    </div>
                    <div class="summary-line">
                        <span class="summary-label">Évaluation :</span>
                        <span class="latency-grade" id="summary-grade">--</span>
                    </div>
                </div>
            </div>

            <div class="results-details">
                <div class="details-title">Journal des requêtes</div>
                <div class="details-box" id="log-box">
                    <div class="details-line details-line-muted">
                        &gt; Journal initialisé. En attente d'une action utilisateur...
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- =========================
         PIED DE PAGE
    ========================== -->
    <footer class="footer">
        <div>[LÉGENDE LATENCE]</div>
        <div class="legend-row">
            <div class="legend-item">
                <div class="legend-color legend-tres-bien"></div>
                <div class="legend-label">TRES BIEN (&lt; 100 ms)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-bien"></div>
                <div class="legend-label">BIEN (100–250 ms)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-moyen"></div>
                <div class="legend-label">MOYEN (250–500 ms)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-insuffisant"></div>
                <div class="legend-label">INSUFFISANT (500–999 ms)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-pas-connexion"></div>
                <div class="legend-label">PAS DE CONNEXION (&gt;= 1000 ms ou échec total)</div>
            </div>
        </div>
        <div style="margin-top:4px;">
            Les « requêtes » sont des signaux envoyés vers un serveur distant, la latence est mesurée entre l'envoi et la réception.
        </div>
    </footer>
</div>

<!-- =========================
     SCRIPT PRINCIPAL
========================== -->
<script>
    // ============================================================
    //  CONFIGURATION GÉNÉRALE
    // ============================================================

    const PING_URL = "https://www.google.com/favicon.ico";

    const MODES = {
        QUICK: {
            id: "quick",
            label: "Requête Rapide",
            count: 1,
            perRequestTimeout: 1000,
            globalTimeout: 1000
        },
        MULTI: {
            id: "multi",
            label: "Requête Multiple",
            count: 7,
            perRequestTimeout: 1500,
            globalTimeout: 5000
        },
        FULL: {
            id: "full",
            label: "Requête Complète",
            count: 255,
            perRequestTimeout: 3000,
            globalTimeout: 10000
        }
    };

    const GRADE = {
        TRES_BIEN: "TRES BIEN",
        BIEN: "BIEN",
        MOYEN: "MOYEN",
        INSUFFISANT: "INSUFFISANT",
        PAS_CONNEXION: "PAS DE CONNEXION"
    };

    const GRADE_CLASS = {
        [GRADE.TRES_BIEN]: "grade-tres-bien",
        [GRADE.BIEN]: "grade-bien",
        [GRADE.MOYEN]: "grade-moyen",
        [GRADE.INSUFFISANT]: "grade-insuffisant",
        [GRADE.PAS_CONNEXION]: "grade-pas-connexion"
    };

    // ============================================================
    //  RÉFÉRENCES DOM
    // ============================================================

    const statusSystemEl = document.getElementById("status-system");
    const summaryModeEl = document.getElementById("summary-mode");
    const summaryLatencyEl = document.getElementById("summary-latency");
    const summarySuccessEl = document.getElementById("summary-success");
    const summaryTotalEl = document.getElementById("summary-total");
    const summaryGradeEl = document.getElementById("summary-grade");
    const logBoxEl = document.getElementById("log-box");
    const navigatorStateEl = document.getElementById("navigator-state");

    const btnQuick = document.getElementById("btn-quick");
    const btnMulti = document.getElementById("btn-multi");
    const btnFull = document.getElementById("btn-full");
    const btnStop = document.getElementById("btn-stop");
    const btnNavigator = document.getElementById("btn-navigator");

    // ============================================================
    //  ÉTAT INTERNE
    // ============================================================

    let currentTestController = null;
    let currentModeLabel = "Aucun test lancé";
    let isRunning = false;

    // ============================================================
    //  UTILITAIRES
    // ============================================================

    function setSystemStatus(text) {
        statusSystemEl.textContent = text;
    }

    function appendLogLine(text, type) {
        const line = document.createElement("div");
        line.classList.add("details-line");

        switch (type) {
            case "error":
                line.classList.add("details-line-error");
                break;
            case "warning":
                line.classList.add("details-line-warning");
                break;
            case "info":
                line.classList.add("details-line-info");
                break;
            case "success":
                line.classList.add("details-line-success");
                break;
            default:
                line.classList.add("details-line-muted");
                break;
        }

        line.textContent = text;
        logBoxEl.appendChild(line);
        logBoxEl.scrollTop = logBoxEl.scrollHeight;
    }

    function clearLog() {
        logBoxEl.innerHTML = "";
    }

    function setButtonsEnabled(enabled) {
        const buttons = [btnQuick, btnMulti, btnFull, btnNavigator];
        buttons.forEach(btn => {
            if (enabled) {
                btn.classList.remove("disabled");
                btn.disabled = false;
            } else {
                btn.classList.add("disabled");
                btn.disabled = true;
            }
        });
    }

    function setStopButtonEnabled(enabled) {
        btnStop.disabled = !enabled;
        if (enabled) {
            btnStop.classList.remove("disabled");
        } else {
            btnStop.classList.add("disabled");
        }
    }

    function updateNavigatorState() {
        const online = navigator.onLine;
        const span = navigatorStateEl.querySelector("span");
        if (!span) return;

        if (online) {
            span.textContent = "ONLINE";
            span.classList.remove("navigator-offline");
            span.classList.add("navigator-online");
        } else {
            span.textContent = "OFFLINE";
            span.classList.remove("navigator-online");
            span.classList.add("navigator-offline");
        }
    }

    function computeGrade(latency, successCount, totalCount) {
        if (totalCount === 0 || successCount === 0) {
            return GRADE.PAS_CONNEXION;
        }

        if (latency < 100) {
            return GRADE.TRES_BIEN;
        } else if (latency < 250) {
            return GRADE.BIEN;
        } else if (latency < 500) {
            return GRADE.MOYEN;
        } else if (latency < 1000) {
            return GRADE.INSUFFISANT;
        } else {
            return GRADE.PAS_CONNEXION;
        }
    }

    function applyGradeToSummary(grade) {
        summaryGradeEl.textContent = grade;
        summaryGradeEl.className = "latency-grade";

        const cls = GRADE_CLASS[grade];
        if (cls) {
            summaryGradeEl.classList.add(cls);
        }
    }

    function resetSummary() {
        summaryModeEl.textContent = currentModeLabel;
        summaryLatencyEl.textContent = "-- ms";
        summarySuccessEl.textContent = "0";
        summaryTotalEl.textContent = "0";
        applyGradeToSummary("--");
    }

    function formatMs(ms) {
        if (ms === null || ms === undefined || Number.isNaN(ms)) {
            return "--";
        }
        return ms.toFixed(1);
    }

    // ============================================================
    //  FONCTIONS DE PING
    // ============================================================

    function pingOnce(timeoutMs) {
        return new Promise((resolve) => {
            const start = performance.now();
            let finished = false;

            const timeoutId = setTimeout(() => {
                if (finished) return;
                finished = true;
                resolve({ ok: false, latency: timeoutMs });
            }, timeoutMs);

            fetch(PING_URL, { cache: "no-store", mode: "no-cors" })
                .then(() => {
                    if (finished) return;
                    finished = true;
                    clearTimeout(timeoutId);
                    const end = performance.now();
                    const latency = end - start;
                    resolve({ ok: true, latency });
                })
                .catch(() => {
                    if (finished) return;
                    finished = true;
                    clearTimeout(timeoutId);
                    resolve({ ok: false, latency: timeoutMs });
                });
        });
    }

    async function runPingSeries(modeConfig, onProgress, onStopRequested) {
        const count = modeConfig.count;
        const perTimeout = modeConfig.perRequestTimeout;
        const globalTimeout = modeConfig.globalTimeout;

        let successCount = 0;
        let totalCount = 0;
        let sumLatency = 0;

        const startGlobal = performance.now();

        for (let i = 0; i < count; i++) {
            if (onStopRequested()) {
                appendLogLine(`> Arrêt demandé par l'utilisateur. Interruption après ${totalCount} requêtes.`, "warning");
                break;
            }

            const nowGlobal = performance.now();
            if (nowGlobal - startGlobal > globalTimeout) {
                appendLogLine(`> Timeout global atteint (${globalTimeout} ms). Arrêt des requêtes.`, "warning");
                break;
            }

            const index = i + 1;
            appendLogLine(`> Requête #${index} envoyée...`, "info");

            const result = await pingOnce(perTimeout);
            totalCount++;

            if (result.ok) {
                successCount++;
                sumLatency += result.latency;
                appendLogLine(`> Requête #${index} OK - Latence: ${formatMs(result.latency)} ms`, "success");
            } else {
                appendLogLine(`> Requête #${index} ÉCHEC ou TIMEOUT (${perTimeout} ms)`, "error");
            }

            if (typeof onProgress === "function") {
                onProgress({
                    index,
                    successCount,
                    totalCount,
                    sumLatency
                });
            }
        }

        const avgLatency = successCount > 0 ? (sumLatency / successCount) : null;

        return {
            successCount,
            totalCount,
            avgLatency
        };
    }

    // ============================================================
    //  GESTION DES TESTS
    // ============================================================

    function startTest(modeConfig) {
        if (isRunning) {
            appendLogLine("> Un test est déjà en cours. Veuillez l'arrêter avant d'en lancer un autre.", "warning");
            return;
        }

        isRunning = true;
        currentModeLabel = modeConfig.label;
        setButtonsEnabled(false);
        setStopButtonEnabled(true);
        clearLog();
        resetSummary();

        summaryModeEl.textContent = modeConfig.label;
        setSystemStatus(`Test en cours : ${modeConfig.label}...`);

        appendLogLine(`> Mode sélectionné : ${modeConfig.label}`, "info");
        appendLogLine(`> Nombre de requêtes : ${modeConfig.count}`, "info");
        appendLogLine(`> Timeout par requête : ${modeConfig.perRequestTimeout} ms`, "info");
        appendLogLine(`> Timeout global : ${modeConfig.globalTimeout} ms`, "info");
        appendLogLine("> Démarrage de la séquence de requêtes...", "info");

        let stopRequested = false;

        currentTestController = {
            requestStop: () => {
                stopRequested = true;
            }
        };

        runPingSeries(
            modeConfig,
            (progress) => {
                const { successCount, totalCount, sumLatency } = progress;
                const avgLatency = successCount > 0 ? (sumLatency / successCount) : null;

                summarySuccessEl.textContent = String(successCount);
                summaryTotalEl.textContent = String(totalCount);
                summaryLatencyEl.textContent = avgLatency !== null ? `${formatMs(avgLatency)} ms` : "-- ms";

                const grade = computeGrade(avgLatency !== null ? avgLatency : 9999, successCount, totalCount);
                applyGradeToSummary(grade);
            },
            () => stopRequested
        ).then(result => {
            isRunning = false;
            currentTestController = null;
            setButtonsEnabled(true);
            setStopButtonEnabled(false);

            const { successCount, totalCount, avgLatency } = result;

            summarySuccessEl.textContent = String(successCount);
            summaryTotalEl.textContent = String(totalCount);
            summaryLatencyEl.textContent = avgLatency !== null ? `${formatMs(avgLatency)} ms` : "-- ms";

            const grade = computeGrade(avgLatency !== null ? avgLatency : 9999, successCount, totalCount);
            applyGradeToSummary(grade);

            if (totalCount === 0) {
                appendLogLine("> Aucun paquet n'a pu être envoyé. Vérifiez votre connexion.", "error");
                setSystemStatus("Aucun paquet envoyé. Connexion probablement indisponible.");
            } else if (successCount === 0) {
                appendLogLine("> Tous les paquets ont échoué. Connexion indisponible ou bloquée.", "error");
                setSystemStatus("Tous les paquets ont échoué. Connexion indisponible.");
            } else {
                appendLogLine(`> Test terminé. Paquets reçus: ${successCount}/${totalCount}.`, "success");
                if (avgLatency !== null) {
                    appendLogLine(`> Latence moyenne: ${formatMs(avgLatency)} ms.`, "success");
                }
                setSystemStatus(`Test terminé : ${modeConfig.label}.`);
            }
        }).catch(err => {
            isRunning = false;
            currentTestController = null;
            setButtonsEnabled(true);
            setStopButtonEnabled(false);

            appendLogLine(`> Erreur inattendue: ${err}`, "error");
            setSystemStatus("Erreur inattendue pendant le test.");
        });
    }

    function stopCurrentTest() {
        if (!isRunning || !currentTestController) {
            appendLogLine("> Aucun test en cours à arrêter.", "warning");
            return;
        }
        appendLogLine("> Demande d'arrêt des requêtes en cours...", "warning");
        currentTestController.requestStop();
    }

    // ============================================================
    //  VÉRIFICATION navigator.onLine
    // ============================================================

    function checkNavigatorOnline() {
        const online = navigator.onLine;
        if (online) {
            appendLogLine("> navigator.onLine = true (ONLINE)", "success");
        } else {
            appendLogLine("> navigator.onLine = false (OFFLINE)", "error");
        }
        updateNavigatorState();
        setSystemStatus("Vérification navigator_online effectuée.");
    }

    // ============================================================
    //  ÉVÉNEMENTS
    // ============================================================

    btnQuick.addEventListener("click", () => {
        startTest(MODES.QUICK);
    });

    btnMulti.addEventListener("click", () => {
        startTest(MODES.MULTI);
    });

    btnFull.addEventListener("click", () => {
        startTest(MODES.FULL);
    });

    btnStop.addEventListener("click", () => {
        stopCurrentTest();
    });

    btnNavigator.addEventListener("click", () => {
        checkNavigatorOnline();
    });

    window.addEventListener("online", () => {
        appendLogLine("> Événement système: navigateur passé en mode ONLINE.", "info");
        updateNavigatorState();
    });

    window.addEventListener("offline", () => {
        appendLogLine("> Événement système: navigateur passé en mode OFFLINE.", "warning");
        updateNavigatorState();
    });

    // ============================================================
    //  INITIALISATION
    // ============================================================

    function init() {
        setSystemStatus("NetSpeedCheck prêt. Sélectionnez un mode de test.");
        updateNavigatorState();
        resetSummary();
        appendLogLine("> NetSpeedCheck chargé. Interface prête.", "info");
    }

    document.addEventListener("DOMContentLoaded", init);
</script>
</body>
</html>
